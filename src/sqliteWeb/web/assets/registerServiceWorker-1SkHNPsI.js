import{e as t}from"./index-CkTGTivK.js";import"./vendor-BaPbTCFd.js";import"./maps-yMw3Pr4N.js";let r=!1;function n(e){confirm("New version of the app is available. Refresh now?")&&e.waiting&&(r=!0,e.waiting.postMessage({type:"SKIP_WAITING"}))}"serviceWorker"in navigator&&(window.addEventListener("load",async()=>{const e=await navigator.serviceWorker.register("service-worker.js");e.waiting&&n(e),e.addEventListener("updatefound",()=>{const i=e.installing;i&&i.addEventListener("statechange",()=>{e.waiting&&navigator.serviceWorker.controller&&n(e)})}),navigator.serviceWorker.addEventListener("controllerchange",()=>{r&&(window.location.reload(),r=!1)})}),window.addEventListener("appinstalled",()=>{t.send("pwa.install")}));
//# sourceMappingURL=registerServiceWorker-1SkHNPsI.js.map
